
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Defuse the BOM</title>
</head>
<body  style="margin: 0;">
<main>
    <img id="bomb" src="img/explosion.gif" alt="explosion" style="display: none;width: 100%">
    <h2 id="message">Press the button in  <span id="timer">5</span> seconds to save Bikini Bottom</h2>
    <button id="defuser">Save Bikini Bottom</button>
</main>
<script>
(function() {
"use strict";

var detonationTimer = 500;
var bomb =  document.getElementById('bomb');
var timer = document.getElementById("message");
var button = document.getElementById("defuser");
// TODO: This function needs to be called once every second
function updateTimer() {
    if (detonationTimer === 0) {
        timer.style.display = "none";
        button.style.display = "none";
        bomb.style.display = "block";
        alert('EXTERMINATED!');
    } else if (detonationTimer > 0) {
        document.getElementById('timer').innerHTML = (detonationTimer/100).toFixed(2);
        console.log(detonationTimer);
    }
    detonationTimer = detonationTimer.toFixed(0);
    detonationTimer--;
}
var interval = 10;
var countdown = setInterval(function(){
    updateTimer();
},interval);
// TODO: When this function runs, it needs to
// cancel the interval/timeout for updateTimer()
function defuseTheBOM() {
    clearInterval(countdown);
}

// Don't modify anything below this line!
//
// This causes the defuseTheBOM() function to be called
// when the "defuser" button is clicked.
// We will learn about events in the DOM lessons
var defuser = document.getElementById('defuser');
defuser.addEventListener('click', defuseTheBOM);
})();
</script>
</body>
</html>
